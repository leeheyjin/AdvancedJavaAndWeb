<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Buyer</title>
<link rel="stylesheet" href="../css/myStyle.css">
<script src="../js/jquery-3.7.0.min.js"></script>
<style>
table {
	border-collapse: collapse;
}

td {
	width: 200px;
	height: auto;
	padding: 5px;
}

#idName p:hover {
	background: lightyellow;
}
</style>
</head>
<body>
	<div class="box">
		<input type="button" value="확인" id="btn1">
		<div id="result1" class="result">
			<table border="1">
				<tr>
					<td>거래처 이름</td>
					<td>거래처 상세정보</td>
				</tr>
				<tr>
					<td id="idName"></td>
					<td id="detail"></td>
				</tr>
			</table>
		</div>
	</div>

	<script>
		$(document).on('click', 'p', function() {
			//alert($(this).attr('class'))

			idValue = $(this).attr('class');
			$.ajax({
				url : '/jqpro/buyerDetail.do',
				type : 'get',
				data : {
					"id" : idValue
				},
				success : function(res) {

				},
				error : function(xhr) {
					alert("상태: " + xhr.status);
				},
				dataType : 'json'
			})//$.ajax

		})
		//$('#btn1').on('click',function() {

		//})
		// 실행 중 동적으로 실행되는 경우 사용
		$(document).on('click', '#btn1', function() {
			$.ajax({
				url : '/jqpro/buyerIdName.do',
				type : 'get',
				success : function(res) {
					code = "";
					$.each(res, function(i, v) {
						code += `<p class="${res[i].id}">${res[i].name}</p>`;
					})
					$('#idName').html(code);
				},
				error : function(xhr) {
					alert("상태: " + xhr.status);
				},
				dataType : 'json'
			})//$.ajax
		})
	</script>
</body>
</html>