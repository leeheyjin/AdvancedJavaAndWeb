<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/0502.css">
<style type="text/css">
img {
	width: 100px;
	height: 100px;
}
</style>
</head>
<body>
	<div class="box">
		<h2>
			시작 버튼 클릭하면 첫번째 이미지가 마지막 순서로 1초마다 이동하고 시작버튼 사라짐.<br> 종료 버튼 클릭하면
			이동을 멈추고 시작버튼 다시 두두둥장
		</h2>
		<input type="button" onclick="proc1(this)" value="시작"> 
<!-- 	<input type="button" onclick="proc1Id()" value="시작" id="start"> -->		
 		<input type="button" onclick="proc2()" value="종료">
		<div id="result1" class="result">
			<img alt="ccc.jpg" src="../images/ccc.jpg">
			<img alt="Desert.jpg" src="../images/Desert.jpg">
			<img alt="Jellyfish.jpg" src="../images/Jellyfish.jpg">
			<img alt="Hydrangeas.jpg" src="../images/Hydrangeas.jpg">
			<img alt="shopping.jpg" src="../images/shopping.jpg">
		</div>
	</div>

	<script type="text/javascript">
		vimg = null;
		proc1 = (target) => {
			// target: this를 받은 변수
			target.style.display = "none";
			// target변수를 전역변수에 다시 대입
			gTarget = target;
			
			vres = document.querySelector("#result1");
			if (vimg != null) {
				vimg[random].style.border = "none";
			}
			
			id = setInterval(function() {
				// 첫번째 이미지를 선택
				firstImg = vres.firstChild;
				// result1의 맨 마지막으로 이동 - appendChild()
				vres.appendChild(firstImg);
			}, 50);
		}
		
		proc2 = () => { // 종료 버튼
			// 시작버튼을 다시 나타나게 설정 - 전역변수 이용
			gTarget.style.display = "inline";
			clearInterval(id);
			
			// 당첨항목 설정
			vimg = vres.querySelectorAll("img");
			random = parseInt(Math.random() * vimg.length);
			vimg[random].style.border = "5px double red";				
		}
		
		proc1Id = () => {
			// id를 이용해 버튼에 접근
			
		}
		
	</script>
</body>
</html>